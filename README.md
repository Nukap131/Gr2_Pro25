# FastAPI + QuestDB Demo

Dette projekt viser, hvordan man bygger en REST API med [FastAPI](https://fastapi.tiangolo.com/), kobler den til [QuestDB](https://questdb.io/) og dockeriserer det hele.  
APIâ€™et kÃ¸rer over **HTTPS** (self-signed certifikat til demo).

---

## Quickstart

Klon projektet og start med Docker Compose:

```bash
git clone https://github.com/Vissing96/fastapi-questdb.git
cd fastapi-questdb
docker compose up -d --build
```

---

## Services

NÃ¥r containere kÃ¸rer, har du adgang til:

- **FastAPI (Swagger UI)** â†’ https://localhost:8000/docs  
- **QuestDB Console** â†’ http://localhost:9000  

---

## Endpoints

### GET /ping  
Healthcheck â€“ svarer hvis APIâ€™et kÃ¸rer  
```bash
curl -k https://localhost:8000/ping
```

### GET /api/v1/healthz  
Tjekker DB-forbindelse  
```bash
curl -k https://localhost:8000/api/v1/healthz
```

### POST /api/v1/sensor  
IndsÃ¦tter en ny mÃ¥ling  
```bash
curl -k -X POST https://localhost:8000/api/v1/sensor \
  -H "Content-Type: application/json" \
  -d '{"device_id":"esp32-01","temp":22.5,"hum":44.0}'
```

### GET /api/v1/sensor?limit=5  
Henter seneste mÃ¥linger  
```bash
curl -k "https://localhost:8000/api/v1/sensor?limit=5"
```

---

## Test

Efter opstart kan du teste APIâ€™et direkte med curl-kommandoerne ovenfor eller Ã¥bne Swagger UI pÃ¥:  
ðŸ‘‰ https://localhost:8000/docs

